{{ collection :from="which_collection" :taxonomy:report_type="filter_terms" as="reports" }}
<div class="container mt-12" x-data='report_yearly({{reports|to_json}})'>

    <!-- Mobile Dropdown -->
    <div class="lg:hidden relative">
        <!-- Trigger button -->
        <button @click="toggle" class="block bg-gray-300 text-blue-800 px-4 py-4 w-full">
            Select Year
            <svg :class="{ 'transform rotate-180': dropdown }"
                 class="h-4 w-4 inline-block ml-2" viewBox="0 0 20 20"
                 fill="currentColor">
                <path fill-rule="evenodd"
                      d="M10 13a1 1 0 0 1-.707-.293l-5-5a1 1 0 1 1 1.414-1.414L10 10.586l4.293-4.293a1 1 0 1 1 1.414 1.414l-5 5A1 1 0 0 1 10 13z"/>
            </svg>
        </button>
        <!-- Dropdown menu -->
        <div x-show="dropdown" @click.away="close()"
             class="mt-2 bg-white absolute z-10 w-full shadow-lg rounded-md left-0 top-10">
            <template x-for="year in years" key="year">
                <div x-text="yearLabel(year)" @click="selectYear(year); close()"
                     :class="{ 'bg-blue-800 text-white': selectedYear === year }"
                     class="cursor-pointer px-4 py-2 hover:bg-gray-200">
                </div>
            </template>
        </div>
    </div>

    <!-- Desktop Grid -->
<div class="hidden lg:grid grid-cols-6 2xl:grid-cols-8 gap-5 py-6 items-center">
    <template x-for="year in years" key="year">
        <div x-text="yearLabel(year)"
             class="cursor-pointer flex justify-center items-center bg-gray-300 text-blue-800 px-4 py-6 w-full"
             :class="{ 'bg-blue-800 !text-white': selectedYear === year }"
             @click="selectYear(year)">
        </div>
    </template>
</div>


{{#     <div class=" grid grid-cols-6 gap-5 py-6 items-center"> #}}
{{#         <template x-for="year in years" key="year"> #}}
{{#             <div x-text="yearLabel(year)" #}}
{{#                  class="cursor-pointer flex justify-center items-center bg-gray-300 text-blue-800 px-4 py-6 w-full" #}}
{{#                  :class="{ 'bg-blue-800 !text-white': selectedYear === year }"> #}}
{{#                  @click="selectYear(year)" #}}
{{#             </div> #}}
{{#         </template> #}}
{{#     </div> #}}




    <div class="flex flex-col divide-y-4 divide-[#A39365]  bg-[#F0F0F0] text-[#003A78]">
<template x-for="item in filteredItems()" key="item.title">
        <div class="flex justify-between p-4 ">
            <div class="w-1/2" x-text="item.title"></div>
            <a :href="'assets' + item.report_asset.url" target="_blank" class="inline-flex gap-2"><span class="hidden lg:block">Download PDF</span>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
                </svg>
            </a>
        </div>
    </template>
    </div>
</div>
   {{ /collection }}
